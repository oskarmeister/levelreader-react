{"ast":null,"code":"const BACKEND_URL = 'http://localhost:5000';\nconst ApiManager = {\n  async fetchData(endpoint, method = 'GET', body = null, state) {\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${state.token}`\n    };\n    const config = {\n      method,\n      headers\n    };\n    if (body) config.body = JSON.stringify(body);\n    const response = await fetch(`${BACKEND_URL}${endpoint}`, config);\n    if (response.status === 401) {\n      alert('Session expired. Please login again.');\n      // logout logic\n      return null;\n    }\n    return await response.json();\n  },\n  async loadUserData(state, setState) {\n    const data = await ApiManager.fetchData('/user_data', 'GET', null, state);\n    if (data) {\n      setState(prev => ({\n        ...prev,\n        lessons: data.lessons || {},\n        wordMetadata: data.word_metadata || {},\n        translationCache: data.translation_cache || {},\n        deletedWords: data.deleted_words || []\n      }));\n    }\n  },\n  async saveUserData(state) {\n    await ApiManager.fetchData('/user_data', 'POST', {\n      lessons: state.lessons,\n      word_metadata: state.wordMetadata,\n      translation_cache: state.translationCache,\n      deleted_words: state.deletedWords\n    }, state);\n  }\n};\nexport { ApiManager };","map":{"version":3,"names":["BACKEND_URL","ApiManager","fetchData","endpoint","method","body","state","headers","token","config","JSON","stringify","response","fetch","status","alert","json","loadUserData","setState","data","prev","lessons","wordMetadata","word_metadata","translationCache","translation_cache","deletedWords","deleted_words","saveUserData"],"sources":["C:/Users/admin/Documents/GitHub/levelreader-react/src/api/apiManager.js"],"sourcesContent":["const BACKEND_URL = 'http://localhost:5000';\r\n\r\nconst ApiManager = {\r\n  async fetchData(endpoint, method = 'GET', body = null, state) {\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${state.token}`\r\n    };\r\n    const config = { method, headers };\r\n    if (body) config.body = JSON.stringify(body);\r\n    const response = await fetch(`${BACKEND_URL}${endpoint}`, config);\r\n    if (response.status === 401) {\r\n      alert('Session expired. Please login again.');\r\n      // logout logic\r\n      return null;\r\n    }\r\n    return await response.json();\r\n  },\r\n  async loadUserData(state, setState) {\r\n    const data = await ApiManager.fetchData('/user_data', 'GET', null, state);\r\n    if (data) {\r\n      setState(prev => ({\r\n        ...prev,\r\n        lessons: data.lessons || {},\r\n        wordMetadata: data.word_metadata || {},\r\n        translationCache: data.translation_cache || {},\r\n        deletedWords: data.deleted_words || []\r\n      }));\r\n    }\r\n  },\r\n  async saveUserData(state) {\r\n    await ApiManager.fetchData('/user_data', 'POST', {\r\n      lessons: state.lessons,\r\n      word_metadata: state.wordMetadata,\r\n      translation_cache: state.translationCache,\r\n      deleted_words: state.deletedWords\r\n    }, state);\r\n  }\r\n};\r\n\r\nexport { ApiManager };"],"mappings":"AAAA,MAAMA,WAAW,GAAG,uBAAuB;AAE3C,MAAMC,UAAU,GAAG;EACjB,MAAMC,SAASA,CAACC,QAAQ,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAEC,KAAK,EAAE;IAC5D,MAAMC,OAAO,GAAG;MACd,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,UAAUD,KAAK,CAACE,KAAK;IACxC,CAAC;IACD,MAAMC,MAAM,GAAG;MAAEL,MAAM;MAAEG;IAAQ,CAAC;IAClC,IAAIF,IAAI,EAAEI,MAAM,CAACJ,IAAI,GAAGK,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC;IAC5C,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGb,WAAW,GAAGG,QAAQ,EAAE,EAAEM,MAAM,CAAC;IACjE,IAAIG,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;MAC3BC,KAAK,CAAC,sCAAsC,CAAC;MAC7C;MACA,OAAO,IAAI;IACb;IACA,OAAO,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;EAC9B,CAAC;EACD,MAAMC,YAAYA,CAACX,KAAK,EAAEY,QAAQ,EAAE;IAClC,MAAMC,IAAI,GAAG,MAAMlB,UAAU,CAACC,SAAS,CAAC,YAAY,EAAE,KAAK,EAAE,IAAI,EAAEI,KAAK,CAAC;IACzE,IAAIa,IAAI,EAAE;MACRD,QAAQ,CAACE,IAAI,KAAK;QAChB,GAAGA,IAAI;QACPC,OAAO,EAAEF,IAAI,CAACE,OAAO,IAAI,CAAC,CAAC;QAC3BC,YAAY,EAAEH,IAAI,CAACI,aAAa,IAAI,CAAC,CAAC;QACtCC,gBAAgB,EAAEL,IAAI,CAACM,iBAAiB,IAAI,CAAC,CAAC;QAC9CC,YAAY,EAAEP,IAAI,CAACQ,aAAa,IAAI;MACtC,CAAC,CAAC,CAAC;IACL;EACF,CAAC;EACD,MAAMC,YAAYA,CAACtB,KAAK,EAAE;IACxB,MAAML,UAAU,CAACC,SAAS,CAAC,YAAY,EAAE,MAAM,EAAE;MAC/CmB,OAAO,EAAEf,KAAK,CAACe,OAAO;MACtBE,aAAa,EAAEjB,KAAK,CAACgB,YAAY;MACjCG,iBAAiB,EAAEnB,KAAK,CAACkB,gBAAgB;MACzCG,aAAa,EAAErB,KAAK,CAACoB;IACvB,CAAC,EAAEpB,KAAK,CAAC;EACX;AACF,CAAC;AAED,SAASL,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}